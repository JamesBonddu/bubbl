{"name": "test_get_example", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"text=新记录2025-01-21_10_53_45\")", "trace": "@allure.step(\"Test create a new record\")\n    def test_get_example():\n        with allure.step(\"Initialize Playwright and browser\"):\n            with sync_playwright() as p:\n                browser = p.chromium.launch(headless=False)\n                context = browser.new_context()\n    \n                # Inject the script to set localStorage items before any page loads\n                jwt_token = \"Bearer eyJraWQiOiI3ZTAwZWRjZC1mY2Q0LTQ5M2YtYmUxYy0yZWQ1ZDI0NWQxMDUiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyOWUxZWZjNy02MThjLTQ0YWEtYWMwYS0wOTMyYjY0OGVhZTQiLCJpc3MiOiJodHRwczovL2FwaS5zdGFnaW5nLmNvc2NlbmUuY24vc3VwZXJ0b2tlbnMtc2VydmVyL2F1dGgiLCJleHAiOjE3Mzk0MjY4MDcsInVzZXJJZCI6IjI5ZTFlZmM3LTYxOGMtNDRhYS1hYzBhLTA5MzJiNjQ4ZWFlNCIsImlhdCI6MTczNjgzNDgwNiwib3JnSWQiOiJjZjc0NmUyMy0zMjEwLTRiOGYtYmRmYS1mYjc3MWQxYWM4N2MifQ.AyKI5ltZF8Rhl7GB6hdETtdzP7rEgLcmAJMjBecO6KKok_no1OwfWvtrA9EVUhoj5dbuSsd_hpAE-AqJAIhz5ZEperai63hxJzMBKk4b0_e6_Ky5Kq-CIRSwQpixHndUF18RA3o6VLdDJPgrdgWmQHksK-ef20gO6IyEqSB5EmhiB6ZEto39DXc9M76IyUExEtOthDgPHi__OGRwb5_uIOmlUAq9f4x3eP_aMRg2dry2Bm6TMvHb58Gu1Q8VNOOguEWjWuZCKGjRD0GOo0mbvFL1xpIJkUYoGdKaERhkLUY9g42T41THU0Ux-0I5wqKyYbZF_HZbjVk415BRcClc0A\"\n                if not jwt_token:\n                    raise ValueError(\"CN_JWT environment variable is not set\")\n    \n                with allure.step(\"Set JWT in localStorage\"):\n                    context.add_init_script(f\"\"\"\n                        localStorage.setItem('coScene_org_jwt', '{jwt_token}');\n                        localStorage.setItem('i18nextLng', 'en');\n                    \"\"\")\n    \n                page = context.new_page()\n    \n                with allure.step(\"Navigate to the records page\"):\n                    page.goto(\"https://staging.coscene.cn/coscene-lark/bubbl/records\")\n    \n                with allure.step(\"Reload the records page with JWT\"):\n                    page.goto(\"https://staging.coscene.cn/coscene-lark/bubbl/records\", timeout=3 * 60 * 1000)\n    \n                with allure.step(\"Click on '创建记录' button\"):\n                    page.get_by_role(\"button\", name=\"创建记录\").nth(2).click()\n    \n                with allure.step(\"Fill in the record name\"):\n                    page.get_by_placeholder(\"输入记录名称\").click()\n                    record_name = time.strftime(\"新记录\" + \"%Y-%m-%d_%H_%M_%S\")\n                    page.get_by_placeholder(\"输入记录名称\").fill(record_name)\n                    page.wait_for_timeout(2000)\n    \n                with allure.step(\"Click on '创建' button\"):\n                    page.get_by_role(\"button\", name=\"创建\").click()\n                    page.reload()\n                    page.wait_for_timeout(3000)\n                    with allure.step(\"Verify the record was created successfully\"):\n                        # Assert the new record is present in the list\n>                       expect(page.locator(f\"text={record_name}\")).to_be_visible()\nE                       AssertionError: Locator expected to be visible\nE                       Actual value: <element(s) not found> \nE                       Call log:\nE                       LocatorAssertions.to_be_visible with timeout 5000ms\nE                         - waiting for locator(\"text=新记录2025-01-21_10_53_45\")\n\ntests\\testcases\\test_CreateRecord.py:46: AssertionError"}, "steps": [{"name": "Test create a new record", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"text=新记录2025-01-21_10_53_45\")\n\n", "trace": "  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\tests\\testcases\\test_CreateRecord.py\", line 46, in test_get_example\n    expect(page.locator(f\"text={record_name}\")).to_be_visible()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20061, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 668, in to_be_visible\n    await self._expect_impl(\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Initialize Playwright and browser", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"text=新记录2025-01-21_10_53_45\")\n\n", "trace": "  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\tests\\testcases\\test_CreateRecord.py\", line 46, in test_get_example\n    expect(page.locator(f\"text={record_name}\")).to_be_visible()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20061, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 668, in to_be_visible\n    await self._expect_impl(\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Set JWT in localStorage", "status": "passed", "start": 1737428022388, "stop": 1737428022399}, {"name": "Navigate to the records page", "status": "passed", "start": 1737428022669, "stop": 1737428024533}, {"name": "Reload the records page with JWT", "status": "passed", "start": 1737428024533, "stop": 1737428024962}, {"name": "Click on '创建记录' button", "status": "passed", "start": 1737428024962, "stop": 1737428025689}, {"name": "Fill in the record name", "status": "passed", "start": 1737428025689, "stop": 1737428027884}, {"name": "Click on '创建' button", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"text=新记录2025-01-21_10_53_45\")\n\n", "trace": "  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\tests\\testcases\\test_CreateRecord.py\", line 46, in test_get_example\n    expect(page.locator(f\"text={record_name}\")).to_be_visible()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20061, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 668, in to_be_visible\n    await self._expect_impl(\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n"}, "steps": [{"name": "Verify the record was created successfully", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"text=新记录2025-01-21_10_53_45\")\n\n", "trace": "  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\tests\\testcases\\test_CreateRecord.py\", line 46, in test_get_example\n    expect(page.locator(f\"text={record_name}\")).to_be_visible()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20061, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 668, in to_be_visible\n    await self._expect_impl(\n  File \"C:\\Users\\陈悦\\PycharmProjects\\Bubbl\\.venv\\lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n"}, "start": 1737428031583, "stop": 1737428036590}], "start": 1737428027885, "stop": 1737428036591}], "start": 1737428021736, "stop": 1737428036842}], "start": 1737428021736, "stop": 1737428036842}], "start": 1737428021736, "stop": 1737428036843, "uuid": "c32d8911-8843-4911-b855-112f83a12302", "historyId": "a2da123ebb1b130d332794084a21b37c", "testCaseId": "a2da123ebb1b130d332794084a21b37c", "fullName": "tests.testcases.test_CreateRecord#test_get_example", "labels": [{"name": "parentSuite", "value": "tests.testcases"}, {"name": "suite", "value": "test_CreateRecord"}, {"name": "host", "value": "DESKTOP-6FM4MLI"}, {"name": "thread", "value": "5856-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.testcases.test_CreateRecord"}]}